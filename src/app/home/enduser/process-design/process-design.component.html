<!-- <div class="form-group">
  <input type="file" id="file" style="display:none" (change)="openBpmn($event)">
</div> -->
<ng-template #itemTemplate let-item="item" let-index let-onCollapseExpand="onCollapseExpand"
  let-onCheckedChange="onCheckedChange">
  <div class="form-inline row-item" [ngClass]="item.children?'parent-menu':'child-menu'">
    <i *ngIf="item.children" (click)="onCollapseExpand()" aria-hidden="true" class="fa"
      [class.fa-folder]="item.collapsed" [class.fa-folder-open]="!item.collapsed"></i>
    <div class="form-check" *ngIf="item.text!=='NULL'">
      <label *ngIf="item.children" class="form-check-label parent-color text-center"
        [ngClass]="{'active-menu': item.value == selectedApp, 'text-center': expandPanel}"
        (click)="onTitleClick(item, true)">
        {{item.text}}
      </label>
      <label *ngIf="!item.children" class="form-check-label child-color text-center"
        [ngClass]="{'active-menu': (item.text == selectedProcess && item.value == selectedApp), 'text-center': expandPanel}"
        (click)="onTitleClick(item, true)">
        {{item.text}}
      </label>
    </div>
  </div>
</ng-template>
<div fxLayout="row" *ngIf="isMobile">
  <div fxFlex="130px" class="toggle" *ngIf="showProcessMobile">
    <a href="javascript:void(0)" (click)="treesidenav.toggle();" class="application-open">
      Process List
    </a>
  </div>
  <div fxFlex="100px" class="toggle">
    <a *ngIf="showRightIcon" class="properties-open" href="javascript:void(0)"
      (click)="changeTrigger(opened);sidenav.toggle()">
      <!--<mat-icon aria-hidden="false">{{opened ? 'arrow_right' : 'arrow_left'}}</mat-icon>matTooltip="{{opened ? 'Hide properties' : 'Show properties'}}"-->
      Configure
    </a>
  </div>
</div>
<div fxLayout="row">
  <mat-sidenav-container fxFlex="100">
    <mat-sidenav class="tree-bg-color" #treesidenav mode="side" [opened]="true"
      [ngStyle]="{'width': expandPanel ? '270px' : '100%' }">
      <div flex fxLayout="column">
        <div fxFlex="100">
          <ngx-treeview [config]="config" [items]="item" [itemTemplate]="itemTemplate">
          </ngx-treeview>
        </div>
        <div fxFlex="100">
          <button *ngIf="item.length" mat-icon-button matTooltip="Add Application" (click)="addApplication()">
            <mat-icon class="add-btn add-font">add</mat-icon>
          </button>
        </div>
        <hr>
      </div>
    </mat-sidenav>
    <div fxFlex="100">
      <div class="parent">
        <h5 class="parent-font m-t-10" *ngIf="selectedApp!=''">
          <button class="mr-2" [matMenuTriggerFor]="parentMenu" aria-label="Example icon-button with a menu">
            {{selectedApp}}
          </button>
          <mat-menu class="headerParentMenu" #parentMenu="matMenu">
            <span *ngFor="let pitem of parentobj[selectedApp]" [ngClass]="pitem.iconType=='mat' ? pitem.icon : ''">
              <a *ngIf="pitem.havePermission && pitem.value == 'Import'"
                (click)="onParentMenuItemClick(pitem.value,selectedApp)">
                <mat-icon *ngIf="pitem.iconType=='mat'" title="{{pitem.item}}">{{pitem.icon}}</mat-icon>
              </a>
              <button (click)="onParentMenuItemClick(pitem.value,selectedApp)"
                *ngIf="pitem.havePermission && pitem.value !== 'Import'" mat-menu-item>
                <mat-icon *ngIf="pitem.iconType=='mat'" title="{{pitem.item}}">{{pitem.icon}}</mat-icon>
                <div *ngIf="pitem.iconType=='bpmn'" title="{{pitem.item}}" class="{{pitem.icon}}" draggable="true">
                </div>
              </button>
              <input type="file" id="file" style="display:none" (change)="openBpmn($event)">
            </span>
          </mat-menu>
          <span class="selected-process-font" *ngIf="selectedProcess!=''">
            <button (click)="onChildMenuClick(selectedItem)" [matMenuTriggerFor]="childMenu"
              aria-label="Example icon-button with a menu">
              {{selectedProcess}}
            </button>
          </span>
          <mat-menu class="headerChildMenu" #childMenu="matMenu">
            <span *ngFor="let citem of childobj[selectedProcess]">
              <button (click)="onChildMenuItemClick(citem.value,selectedItem)" *ngIf="citem.havePermission"
                mat-menu-item>
                <mat-icon *ngIf="citem.iconType=='mat'" title="{{citem.item}}">{{citem.icon}}</mat-icon>
                <i *ngIf="citem.iconType=='material'" class="material-icons" title="{{citem.item}}">{{citem.icon}}</i>
                <i *ngIf="citem.iconType=='fa'" class="{{citem.icon}}" title="{{citem.item}}"></i>
                <div *ngIf="citem.iconType=='bpmn'" title="{{citem.item}}" class="{{citem.icon}}" draggable="true">
                </div>
              </button>
            </span>
          </mat-menu>
        </h5>
      </div>

      <section>
        <div fxLayout="row" style="padding-bottom: 2px;">
          <div fxFlex="20px" class="toggle" *ngIf="expandPanel">
            <a href="javascript:void(0)" (click)="treesidenav.toggle();" class="application-open">
              Process List
            </a>
          </div>
          <div fxFlex="100" fxLayout="column">
            <div fxFlex="100" [ngClass]="opened?'stage-show':'stage-hide'">
              <mat-accordion>
                <mat-expansion-panel [expanded]="expandPanel && closePanelOnSchedule">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      <span class="selected-process-font"> Process Diagram</span>
                      <mat-menu class="headerChildMenu" #childMenu="matMenu">
                        <span *ngFor="let citem of childobj[selectedProcess]">
                          <button (click)="onChildMenuItemClick(citem.value,selectedItem)" *ngIf="citem.havePermission"
                            mat-menu-item>
                            <mat-icon *ngIf="citem.iconType=='mat'" title="{{citem.item}}">{{citem.icon}}</mat-icon>
                            <i *ngIf="citem.iconType=='material'" class="material-icons"
                              title="{{citem.item}}">{{citem.icon}}</i>
                            <i *ngIf="citem.iconType=='fa'" class="{{citem.icon}}" title="{{citem.item}}"></i>
                            <div *ngIf="citem.iconType=='bpmn'" title="{{citem.item}}" class="{{citem.icon}}"
                              draggable="true">
                            </div>
                          </button>
                        </span>
                      </mat-menu>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div id="canvas"></div>
                </mat-expansion-panel>
              </mat-accordion>
            </div>


            <div fxFlex="100">
              <mat-accordion>
                <mat-expansion-panel [expanded]="expandPanel && closePanelOnSchedule">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Parameters
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="dynamicFormContent">
                    <div class="dynamicContent">
                      <form name="form" #processForm="ngForm" novalidate>
                        <div class="padding-input flexLeft" *ngFor="let pr of resFormData"
                          [ngClass]="data.getFieldClass(pr.name)">
                          <ng-container *ngIf="!data.isFieldHidden(pr.name)">
                            <label class="f_label text-center">{{pr.display | removeWt}}<span
                                *ngIf="data.isFieldMendatory(pr.name)">*</span></label>
                            <mat-icon *ngIf="pr.helptext!= null" matTooltip="{{pr.helptext}}" class="field-help"
                              matTooltipPosition="after">help</mat-icon>
                            <div *ngIf="pr.hasfield">
                              <ng-container [ngSwitch]="pr.type">
                                <ng-container *ngSwitchCase="'Radio Button'">
                                  <mat-form-field class="form_input form_list" style="background-color: #f4f6f7">
                                    <input matInput style="display: none">
                                    <mat-radio-group #name="ngModel" [required]="data.isFieldMendatory()"
                                      [disabled]="data.isFieldDisabled()" [(ngModel)]="pr.value"
                                      (ngModelChange)="Update_value(pr.value,pr.placeholder)" [name]="pr.name">
                                      <mat-radio-button style="background-color: #f4f6f7" [value]="listOption"
                                        *ngFor="let listOption of getListOptions(pr.name)">{{listOption}}
                                      </mat-radio-button>
                                    </mat-radio-group>
                                  </mat-form-field>
                                </ng-container>
                                <ng-container *ngSwitchCase="'Checkbox'">
                                  <mat-form-field class="form_input form_list" style="background-color: #f4f6f7">
                                    <input matInput style="display: none">
                                    <mat-selection-list #name="ngModel" [disabled]="data.isFieldDisabled()"
                                      [(ngModel)]="pr.value" (ngModelChange)="Update_value(pr.value,pr.placeholder)"
                                      style="background-color: #f4f6f7">
                                      <mat-list-option checkboxPosition="before" [value]="listOption"
                                        *ngFor="let listOption of getListOptions(pr.name)">
                                        {{listOption}}
                                      </mat-list-option>
                                    </mat-selection-list>
                                  </mat-form-field>
                                </ng-container>
                                <ng-container *ngSwitchCase="'date'">
                                  <mat-form-field class="form_input">
                                    <input #name="ngModel" [required]="data.isFieldMendatory()"
                                      [disabled]="data.isFieldDisabled()" [name]="pr.name" [value]="pr.value"
                                      (keyup)="Update_value($event.target.value,pr.placeholder)" [(ngModel)]="pr.value"
                                      matInput [matDatepicker]="picker" class="f_inp">
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                  </mat-form-field>
                                  <div [style.visibility]="data.isFieldInvalid(name) ? 'visible': 'hidden'">
                                    {{data.getFieldInValidMsg(name, pr.name)}}
                                  </div>
                                </ng-container>
                                <ng-container *ngSwitchCase="'time'">
                                  <mat-form-field class="form_input">
                                    <input #name="ngModel" [required]="data.isFieldMendatory()"
                                      [disabled]="data.isFieldDisabled()" matInput [type]="pr.type" [name]="pr.name"
                                      [value]="pr.value" (change)="Update_value($event.target.value,pr.placeholder)"
                                      [(ngModel)]="pr.value" class="f_inp">
                                  </mat-form-field>
                                  <div [style.visibility]="data.isFieldInvalid(name) ? 'visible': 'hidden'">
                                    {{data.getFieldInValidMsg(name, pr.name)}}
                                  </div>
                                </ng-container>
                                <ng-container *ngSwitchCase="'datetime'">
                                  <mat-form-field class="form_input" style="background-color: #f4f6f7">
                                    <input #name="ngModel" [required]="data.isFieldMendatory()"
                                      [disabled]="data.isFieldDisabled()" matInput [name]="pr.name" [value]="pr.value"
                                      (change)="Update_value($event.target.value,pr.placeholder)" [(ngModel)]="pr.value"
                                      [owlDateTimeTrigger]="fdate" [owlDateTime]="fdate">
                                    <owl-date-time [attr.id]="pr.name"></owl-date-time>
                                  </mat-form-field>
                                  <div [style.visibility]="data.isFieldInvalid(name) ? 'visible': 'hidden'">
                                    {{data.getFieldInValidMsg(name, pr.name)}}
                                  </div>
                                </ng-container>
                                <ng-container *ngSwitchCase="'password'">
                                  <mat-form-field class="form_input">
                                    <input matInput #name="ngModel" [required]="data.isFieldMendatory(pr.name)"
                                      [readonly]="data.isFieldDisabled(pr.name)" [type]="pr.type" [name]="pr.name"
                                      [value]="pr.value" (change)="Update_value($event.target.value,pr.placeholder)"
                                      [(ngModel)]="pr.value" #name="ngModel" class="f_inp">
                                  </mat-form-field>
                                  <div [style.visibility]="data.isFieldInvalid(name) ? 'visible': 'hidden'">
                                    {{data.getFieldInValidMsg(name, pr.name)}}
                                  </div>
                                </ng-container>
                                <ng-container *ngSwitchCase="'range'">
                                  <mat-slider #name="ngModel" [(ngModel)]="pr.value" value="1" step="1" min="1"
                                    max="100" (change)="Update_value($event.target.value,pr.placeholder)"
                                    style="background-color: #f4f6f7">
                                  </mat-slider>
                                </ng-container>
                                <ng-container *ngSwitchCase="color">
                                  <mat-form-field class="form_input">
                                    <input #name="ngModel" [(colorPicker)]="_backgroundColor"
                                      [style.background]="_backgroundColor" [(ngModel)]="pr.value" class="f_inp">
                                  </mat-form-field>
                                </ng-container>
                                <ng-container *ngSwitchCase="'Text Area'">
                                  <mat-form-field class="form_input">
                                    <textarea matInput #name="ngModel" [required]="data.isFieldMendatory(pr.name)"
                                      [readonly]="data.isFieldDisabled(pr.name)" [name]="pr.name"
                                      [maxLength]="data.getFieldMaxLength(pr.name)" (value)="pr.value"
                                      (change)="Update_value($event.target.value,pr.placeholder)" [(ngModel)]="pr.value"
                                      class="f_inp">
                                          </textarea>
                                  </mat-form-field>
                                  <div [style.visibility]="data.isFieldInvalid(name) ? 'visible': 'hidden'">
                                    {{data.getFieldInValidMsg(name, pr.name)}}
                                  </div>
                                </ng-container>
                                <ng-container *ngSwitchCase="data.getFieldTypeForChange(pr.type)">
                                  <mat-form-field class="form_input">
                                    <input matInput [required]="data.isFieldMendatory(pr.name)"
                                      maxlength="data.getMaxLengthForField(pr.type)" [name]="pr.name" (value)="pr.value"
                                      (change)="Update_value($event.target.value,pr.placeholder)"
                                      (change)="data.transformFieldValueOnChange($event,pr.type)" [(ngModel)]="pr.value"
                                      class="f_inp" #name="ngModel">
                                    <mat-autocomplete class="autoCompletes" #auto="matAutocomplete">
                                      <mat-option (click)="Update_value(pr.value ,pr.placeholder)"
                                        style="text-align:center;"
                                        *ngFor="let option of options[pr.name]| myfilter:FilterAutoValue"
                                        [value]="option">
                                        {{option}}
                                      </mat-option>
                                    </mat-autocomplete>
                                  </mat-form-field>
                                  <div [style.visibility]="data.isFieldInvalid(name) ? 'visible': 'hidden'">
                                    {{data.getFieldInValidMsg(name, pr.name)}}
                                  </div>
                                </ng-container>
                                <ng-container *ngSwitchCase="'Zip'">
                                  <mat-form-field class="form_input">
                                    <input type="text" pattern="^[0-9]{5}?$" [required]="data.isFieldMendatory(pr.name)"
                                      maxlength="5" matInput [disabled]="data.isFieldDisabled(pr.name)" [name]="pr.name"
                                      (value)="pr.value" [matAutocomplete]="auto"
                                      (key)="Update_value($event.target.value,pr.placeholder)" [(ngModel)]="pr.value"
                                      class="f_inp" #name="ngModel">

                                    <mat-autocomplete class="autoCompletes" #auto="matAutocomplete">
                                      <mat-option style="text-align:center;"
                                        (click)="Update_value(pr.value ,pr.placeholder)"
                                        *ngFor="let option of options[pr.name]| myfilter:FilterAutoValue"
                                        [value]="option">
                                        {{option}}
                                      </mat-option>
                                    </mat-autocomplete>
                                  </mat-form-field>
                                  <div [style.visibility]="data.isFieldInvalid(name) ? 'visible': 'hidden'">
                                    {{data.getFieldInValidMsg(name, pr.name)}}
                                  </div>
                                </ng-container>
                                <ng-container *ngSwitchCase="'Email'">
                                  <mat-form-field class="form_input">
                                    <input type="email" [required]="data.isFieldMendatory(pr.name)" matInput
                                      [readonly]="data.isFieldDisabled(pr.name)" [name]="pr.name" (value)="pr.value"
                                      [matAutocomplete]="auto"
                                      (change)="Update_value($event.target.value,pr.placeholder)" [(ngModel)]="pr.value"
                                      class="f_inp" #name="ngModel" email="true"
                                      pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}">

                                    <mat-autocomplete class="autoCompletes" #auto="matAutocomplete">
                                      <mat-option style="text-align:center;"
                                        (click)="Update_value(pr.value ,pr.placeholder)"
                                        *ngFor="let option of options[pr.name]| myfilter:FilterAutoValue"
                                        [value]="option">
                                        {{option}}
                                      </mat-option>
                                    </mat-autocomplete>
                                  </mat-form-field>
                                  <div [style.visibility]=" data.isFieldInvalid(name) ? 'visible': 'hidden'">
                                    {{data.getFieldInValidMsg(name, pr.name)}}
                                  </div>
                                </ng-container>
                                <ng-container *ngSwitchDefault>
                                  <mat-form-field class="form_input">
                                    <input matInput [name]="pr.name" [required]="data.isFieldMendatory(pr.name)"
                                      #name="ngModel" [readonly]="data.isFieldDisabled(pr.name)"
                                      (change)="Update_value(pr.value ,pr.placeholder)"
                                      [maxLength]="data.getFieldMaxLength(pr.name)" [matAutocomplete]="auto"
                                      [(ngModel)]="pr.value" class="f_inp">
                                    <mat-autocomplete #auto="matAutocomplete">
                                      <mat-option style="text-align:center;"
                                        (click)="Update_value(pr.value ,pr.placeholder)"
                                        *ngFor="let option of options[pr.name]| myfilter:FilterAutoValue"
                                        [value]="option">
                                        {{option}}
                                      </mat-option>
                                    </mat-autocomplete>
                                  </mat-form-field>
                                  <div [style.visibility]=" data.isFieldInvalid(name) ? 'visible': 'hidden'">
                                    {{data.getFieldInValidMsg(name, pr.name)}}
                                  </div>
                                </ng-container>
                              </ng-container>
                            </div>
                          </ng-container>
                        </div>
                      </form>
                    </div>

                  </div>
                </mat-expansion-panel>
              </mat-accordion>

            </div>

            <div fxFlex="100" id="schedule" *ngIf="newScheduleView || Pause_btn || Resume_btn || Kill_btn">
              <!-- <h4 class="text-center">Schedule</h4>
                <hr /> -->
              <mat-accordion>
                <mat-expansion-panel [expanded]="newScheduleView || Pause_btn || Resume_btn || Kill_btn">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Schedule
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="row">
                    <div class="col-md-12" *ngIf="display_process_table">
                      <mat-form-field *ngIf="show_filter_input">
                        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
                      </mat-form-field>
                      <img src="/assets/img/progress.gif" style="height:20px;width:20px;" *ngIf="progressImg" alt="" />
                      <mat-table #table [dataSource]="dataSource" matSort style="width:100%;">

                        <!-- Checkbox Column -->
                        <ng-container matColumnDef="#">
                          <mat-header-cell *matHeaderCellDef>
                            <mat-checkbox (change)="$event ? masterToggle() : null"
                              [checked]="selection.hasValue() && isAllSelected()"
                              [indeterminate]="selection.hasValue() && !isAllSelected()">
                            </mat-checkbox>
                          </mat-header-cell>
                          <mat-cell *matCellDef="let dataSource">
                            <mat-checkbox (click)="$event.stopPropagation();Check_process_id(dataSource.job_name)"
                              (change)="$event ? selection.toggle(dataSource) : null"
                              [checked]="selection.isSelected(dataSource)">
                            </mat-checkbox>
                            <!-- <mat-checkbox [class]="checkbox_color_value"
                                    (click)="$event.stopPropagation();Check_process_id(dataSource.job_name)"></mat-checkbox> -->
                          </mat-cell>
                        </ng-container>

                        <!-- Name Column -->
                        <ng-container matColumnDef="status">
                          <mat-header-cell *matHeaderCellDef style="color: white"> Status </mat-header-cell>
                          <mat-cell *matCellDef="let element" data-label="status"> {{element.status}} </mat-cell>
                        </ng-container>

                        <!-- Weight Column -->
                        <ng-container matColumnDef="lastrun">
                          <mat-header-cell *matHeaderCellDef style="color: white"> Last Run </mat-header-cell>
                          <mat-cell *matCellDef="let element" data-label="lastrun"> {{element.lastrun}} </mat-cell>
                        </ng-container>

                        <!-- Symbol Column -->
                        <ng-container matColumnDef="nextrun">
                          <mat-header-cell *matHeaderCellDef style="color: white"> Next Run </mat-header-cell>
                          <mat-cell *matCellDef="let element" data-label="nextrun"> {{element.nextrun}} </mat-cell>
                        </ng-container>

                        <!-- Symbol Column -->
                        <ng-container matColumnDef="details">
                          <mat-header-cell *matHeaderCellDef style="color: white"> Details </mat-header-cell>
                          <mat-cell *matCellDef="let element" data-label="details"> {{element.details}} </mat-cell>
                        </ng-container>

                        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)"
                          (click)="onRowClick(row)">
                        </mat-row>
                      </mat-table>
                    </div>
                    <div class="col-md-12" *ngIf="newScheduleView">
                      <app-schedular [parentapp]="ApplicationCD" [parentpro]="ProcessCD" [changing]="changingValue">
                      </app-schedular>
                    </div>
                  </div>
                  <!-- ______________________________________________________CLOSE TABLE________________________________ -->
                  <div class="row">
                    <div class="col-md-5"></div>
                    <div class="col-md-5">
                      <br />
                      <!-- <button mat-raised-button color="primary" *ngIf="Save_btn" [disabled]="save_shedule_btn" (click)="repeatURL()">Save the Schedule</button> -->
                      <button mat-raised-button color="primary" (click)="onPause()" *ngIf="Pause_btn">Pause </button>
                      <button mat-raised-button color="primary" (click)="onResume()" *ngIf="Resume_btn">Resume</button>
                      <button mat-raised-button color="primary" (click)="onKill()" *ngIf="Kill_btn">Kill</button>
                      <br />
                    </div>
                  </div>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
            <div fxFlex="100" *ngIf="gantt">
              <mat-accordion>
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Gantt Chart
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <canvas id="myGanttchart" *ngIf="gantt" fxFlex="100"></canvas>
                </mat-expansion-panel>
              </mat-accordion>

            </div>
            <div fxFlex="100" *ngIf="bar">
              <mat-accordion>
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Bar Chart
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <canvas id="myBarchart" *ngIf="bar" fxFlex="100"></canvas>

                </mat-expansion-panel>
              </mat-accordion>

            </div>
            <div fxFlex="100" *ngIf="pie">
              <mat-accordion>
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Pie Chart
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <canvas id="myPie" *ngIf="pie" fxFlex="100"></canvas>

                </mat-expansion-panel>
              </mat-accordion>

            </div>
          </div>
          <div fxFlex="2" class="toggle">
            <a *ngIf="showRightIcon && expandPanel" class="properties-open" href="javascript:void(0)"
              (click)="changeTrigger(opened);sidenav.toggle()">
              <!--<mat-icon aria-hidden="false">{{opened ? 'arrow_right' : 'arrow_left'}}</mat-icon>matTooltip="{{opened ? 'Hide properties' : 'Show properties'}}"-->
              Configure
            </a>
          </div>
        </div>
      </section>





    </div>
    <!-- (isOutside)="hide($event)"  -->
    <mat-sidenav [ngStyle]="{'width': expandPanel ? '250px' : '100%' }" class="properties-bg-color" #sidenav
      position="end" mode="side" [(opened)]="opened">
      <div id="properties">

        <label class="text-center"><b> {{ generalId }} </b></label>
        <mat-tab-group mat-align-tabs="start" (selectedTabChange)="updateTabs()">
          <mat-tab label="General">
            <mat-accordion>
              <mat-expansion-panel class="mt-2" [expanded]="expandPanel">
                <mat-expansion-panel-header>
                  <mat-panel-title class="tabTitle">
                    {{Label['ID']}}
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="generalTabV">
                  <!--<label class="m-t-10">{{Label['ID']}} </label>-->
                  <input id="processId" tabindex="-1" onfocus="this.select();" (change)="onInputChange(true)"
                    [(ngModel)]="generalId">
                </div>
                <div class="oneSpace"></div>
                <div class="generalTabV">
                  <label class="mt-3 tabTitle text-left">{{Label['NAME']}} </label>
                  <input (change)="onInputNameChange()" [ngClass]="isApp == true?'exe_disable':''" [disabled]="isApp"
                    [(ngModel)]="processName">
                </div>
              </mat-expansion-panel>
            </mat-accordion>
            <div class="spaceDiv">
              <mat-divider></mat-divider>
            </div>
            <mat-accordion>
              <mat-expansion-panel class="mb-2" [expanded]="expandPanel">
                <mat-expansion-panel-header>
                  <mat-panel-title class="tabTitle">
                    {{Label['DOCUMENTATION']}}
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="generalTabV">
                  <!--<label>{{Label['DOCUMENTATION']}}</label>-->
                  <textarea (change)="onInputDocumentChange()" [(ngModel)]="documentation"></textarea>
                </div>
              </mat-expansion-panel>
            </mat-accordion>
            <div *ngIf="showCondtionType" class="spaceDiv">
              <mat-divider></mat-divider>
            </div>
            <mat-accordion *ngIf="showCondtionType">
              <mat-expansion-panel class="mb-2" [expanded]="expandPanel">
                <mat-expansion-panel-header>
                  <mat-panel-title class="tabTitle">
                    {{Label['CONDITION_TYPE']}}
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <div>
                  <!--<label class="tabTitle">{{Label['CONDITION_TYPE']}}</label>-->
                  <select [(ngModel)]="selectedConditionType"
                    (change)="updatesequenceConditionType($event.target.value)">
                    <!-- <option>{{Label['PLEASE_SELECT']}}</option> -->
                    <option *ngFor="let condition of sequenceConditionType " [value]="condition">
                      {{ condition}}
                    </option>
                  </select>
                  <div>
                    <div class="oneSpace"></div>
                    <label class="tabTitle mt-3">{{Label['CONDITION']}}</label>
                    <textarea type="text" name="condition" (change)="onInputChange(false)"
                      [(ngModel)]="sequenceCondition" #seq_condition="ngModel" required></textarea>
                    <div *ngIf="seq_condition.invalid && (seq_condition.dirty || seq_condition.touched)" class="errors">
                      <div *ngIf="seq_condition.errors && seq_condition.errors.required">
                        {{selectedConditionType}} Condition is required.
                      </div>
                    </div>
                  </div>
                </div>
              </mat-expansion-panel>
            </mat-accordion>
          </mat-tab>

          <mat-tab *ngIf="showAllTabFlag" label="Enable">
            <div class="generalTabV">
              <mat-accordion>
                <mat-expansion-panel class="mt-2" [expanded]="expandPanel">
                  <mat-expansion-panel-header>
                    <mat-panel-title class="tabTitle">
                      {{Label['EXECUTABLE_TYPES']}}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <!--<label class="m-t-10">{{Label['EXECUTABLE_TYPES']}}</label>-->
                  <select class="mb-3" [(ngModel)]="selectedExecutableType" (click)="getAllExecutableTypes()"
                    (change)="updateselectedExecutableType($event.target.value)">
                    <option *ngIf="!executableTypesData.length" [value]="selectedExecutableType">
                      {{selectedExecutableType}}
                    </option>
                    <option *ngFor="let exeType of executableTypesData " [value]="exeType">
                      {{ exeType}}
                    </option>
                  </select>
                  <label class="tabTitle">{{Label['EXECUTABLES']}}</label>
                  <select [(ngModel)]="selectedExecutable" (click)="getExecutablesForSelctedExecutableType()"
                    (change)="updateselectedExecutable($event.target.value)">
                    <option value="">{{Label['PLEASE_SELECT']}}</option>
                    <option *ngFor="let executable of executablesData " [value]="executable">
                      {{ executable}}
                    </option>
                  </select>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="spaceDiv">
                <mat-divider></mat-divider>
              </div>
              <mat-accordion>
                <mat-expansion-panel [expanded]="expandPanel">
                  <mat-expansion-panel-header>
                    <mat-panel-title class="tabTitle">
                      {{Label['EXECUTABLE']}}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <!--            <div class="oneSpace"></div>-->
                  <label class="tabTitle">{{Label['INPUT']}}</label>
                  <textarea class="mb-3" [ngClass]="selectedExecutableType !== 'MANUAL'?'exe_disable':''"
                    [disabled]="selectedExecutableType !== 'MANUAL'" [(ngModel)]="executableInput"></textarea>
                  <!--            <div class="oneSpace"></div>-->
                  <label class="tabTitle">{{Label['OUTPUT']}}</label>
                  <textarea class="exe_disable mb-3" disabled [(ngModel)]="executableOutput"></textarea>
                  <!--            <div class="oneSpace"></div>-->
                  <label class="tabTitle">{{Label['FUNCTIONALITY']}}</label>
                  <textarea class="exe_disable" disabled [(ngModel)]="executableDesc"></textarea>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="spaceDiv">
                <mat-divider></mat-divider>
              </div>
              <mat-accordion>
                <mat-expansion-panel [expanded]="expandPanel">
                  <mat-expansion-panel-header>
                    <mat-panel-title class="tabTitle">
                      {{Label['INVOCATION']}}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <mat-radio-group disabled [(ngModel)]="async_sync">
                    <mat-radio-button value="async">{{Label['ASYNCHRONOUS']}}</mat-radio-button>
                    <mat-radio-button value="sync">{{Label['SYNCHORONOUS']}}</mat-radio-button>
                  </mat-radio-group>
                  <div *ngIf="async_sync==='sync'">
                    <div class="row row1">
                      <input class="exe_disable" disabled id="Timeout_seconds" type="number"
                        [(ngModel)]="async_sync_seconds" min="1">
                      <label id="Timeout_seconds_label">{{Label['TIMEOUT_SECONDS']}}</label>
                    </div>
                  </div>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </mat-tab>

          <mat-tab *ngIf="showAllTabFlag" label="Properties">
            <div class="generalTabV">
              <mat-accordion>
                <mat-expansion-panel class="my-2" [expanded]="expandPanel">
                  <mat-expansion-panel-header>
                    <mat-panel-title class="tabTitle">
                      {{Label['DISPLAY']}}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <mat-checkbox [(ngModel)]="display_output">{{Label['DISPLAY_OUTPUT']}}</mat-checkbox>
                  <mat-checkbox [(ngModel)]="summary_output">{{Label['SUMMARY_OUTPUT']}}</mat-checkbox>
                  <mat-checkbox [(ngModel)]="isServiceActive" (change)="serviceActiveSelected($event.checked)">
                    {{Label['SERVICE_ACTIVE']}}
                  </mat-checkbox>
                </mat-expansion-panel>
              </mat-accordion>
              <div *ngIf="isServiceActive">
                <mat-accordion>
                  <mat-expansion-panel [expanded]="expandPanel">
                    <mat-expansion-panel-header>
                      <mat-panel-title class="tabTitle">
                        {{Label['AVAILABILITY']}}
                      </mat-panel-title>
                    </mat-expansion-panel-header>
                    <mat-form-field class="start_date form_input">
                      <label class="m-b-10">{{Label['FROM']}}</label>
                      <input matInput class="bg-white" [(ngModel)]="currentDate" [owlDateTimeTrigger]="startDate"
                        [owlDateTime]="startDate">
                      <owl-date-time #startDate></owl-date-time>
                    </mat-form-field>
                    <mat-form-field class="start_date form_input">
                      <label class="m-b-10">{{Label['TO']}}</label>
                      <input matInput class="bg-white" [(ngModel)]="afterFiveDays" [owlDateTimeTrigger]="endDate"
                        [owlDateTime]="endDate">
                      <owl-date-time #endDate></owl-date-time>
                    </mat-form-field>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
              <div class="spaceDiv">
                <mat-divider></mat-divider>
              </div>
              <mat-accordion>
                <mat-expansion-panel [expanded]="expandPanel">
                  <mat-expansion-panel-header>
                    <mat-panel-title class="tabTitle">
                      {{Label['NOTIFICATION_EMAIL']}}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <!--<label>{{Label['NOTIFICATION_EMAIL']}} </label>-->
                  <input type="email" [(ngModel)]="userEmail"
                    pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}">
                </mat-expansion-panel>
              </mat-accordion>
              <div class="spaceDiv">
                <mat-divider></mat-divider>
              </div>
              <mat-accordion>
                <mat-expansion-panel [expanded]="expandPanel">
                  <mat-expansion-panel-header>
                    <mat-panel-title class="tabTitle">
                      {{Label['RESTORABILITY']}}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <!--<label class="tabTitle">{{Label['RESTORABILITY']}}</label>-->
                  {{restorability}}
                  <mat-radio-group class="mb-2" [(ngModel)]="restorability">
                    <mat-radio-button value="NONE">{{Label['NONE']}}</mat-radio-button>
                    <mat-radio-button value="MANUAL">{{Label['MANUAL']}}</mat-radio-button>
                    <mat-radio-button value="AUTO">{{Label['AUTO']}}</mat-radio-button>
                  </mat-radio-group>
                  <div *ngIf="restorability ==='AUTO'">
                    <div class="row row1">
                      <input id="seconds" type="number" [(ngModel)]="attemps" min="1">
                      <label id="seconds_label">{{Label['ATTEMPS']}}</label>
                    </div>
                    <div class="oneSpace"></div>
                    <div class="row row1">
                      <input id="seconds" type="number" [(ngModel)]="restorability_seconds" min="1">
                      <label id="seconds_label">{{Label['SECONDS']}}</label>
                    </div>
                  </div>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="spaceDiv">
                <mat-divider></mat-divider>
              </div>
              <mat-accordion>
                <mat-expansion-panel [expanded]="expandPanel">
                  <mat-expansion-panel-header>
                    <mat-panel-title class="tabTitle">
                      {{Label['INSTANCES']}}
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <!--<label class="tabTitle">{{Label['INSTANCES']}}</label>-->
                  <mat-radio-group [(ngModel)]="instances">
                    <mat-radio-button value="single">{{Label['SINGLE']}}</mat-radio-button>
                    <mat-radio-button value="unlimited">{{Label['UNLIMITED']}}</mat-radio-button>
                    <div class="row row1">
                      <mat-radio-button class="w-100-p" (change)="onSelectLimtedPriority()" value="limited">
                        {{Label['LIMITED']}}</mat-radio-button>
                      <div *ngIf="instances==='limited'">
                        <input id="priority" type="number" [(ngModel)]="job_instance" min="1">
                      </div>
                    </div>
                  </mat-radio-group>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="spaceDiv">
                <mat-divider></mat-divider>
              </div>
              <div class="oneSpace"></div>
              <div class="row row1">
                <input id="priority" type="number" [(ngModel)]="priority" min="1">
                <label id="priority_label">{{Label['PRIORITY']}}</label>
              </div>
            </div>
          </mat-tab>
        </mat-tab-group>
      </div>
    </mat-sidenav>
  </mat-sidenav-container>
</div>
